<script>
var blob_md5="{{blob_md5}}"; var blob_mtime="{{blob_mtime}}";
{% if BLOB %}
  var get_blob_md5_url = "{% url 'UUID:md5' NICK=NICK UUID=UUID FILE=BLOB %}";
{% else %}
  var get_blob_md5_url = "";
{% endif %}
</script>
<style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
</style>
<form action="{% url 'UUID:postedit' NICK=NICK UUID=UUID %}" id="{{ blobeditform.htmlid }}" method="post" class="w-100">
        {% csrf_token %}{{ blobeditform.non_field_errors }}
        {% for field in blobeditform %}{% if field.is_hidden %} {{ field }} {% else %}
         <div class="form-group w-100" id="id_div_blobeditform_{{field.name}}"  >
          {{ field.errors }}    {{ field.label_tag }} {{ field }}
          {% if field.help_text %}
            <small class="font-italic">{{ field.help_text|safe }}</small>
          {% endif %}
         </div>
        {% endif %}{% endfor %}
        <input type="submit" class="btn btn-primary"
         data-toggle="tooltip" title="Commit changes, update PDF and HTML"
         onclick="update_editform(); return check_primary_tab();" id="id_blobeditform_commit" name="commit" value="Commit">
        <input type="submit" class="btn btn-primary" 
         data-toggle="tooltip" title="Save changes so far, update diff"
         onclick="blob_save_no_reload(); return false;"
         id="id_blobeditform_save_no_reload" name="save" value="Save">
</form>
<script>
$('#id_BlobEditTextarea').on('input propertychange change keyup paste', update_blobedit_timestamp );
</script>
